{"version":3,"file":"console.js","sources":["../src/console-manager.js","../src/store.js","../src/utils.js","../src/views/console.svelte","../src/console-view.js","../src/config.js","../src/console.js"],"sourcesContent":["import { Emitter } from 'event-kit';\n\nexport default class ConsoleManager {\n  constructor(view) {\n    this.view = view;\n    this.emitter = new Emitter();\n  }\n\n  destroy() {\n    this.emitter.dispose();\n  }\n\n  // Toggle console panel\n  hide() {\n    this.view.hide();\n  }\n\n  show() {\n    this.view.show();\n  }\n\n  toggle() {\n    this.view.toggle();\n  }\n\n  stickBottom() {\n    this.view.stickTop = false;\n  }\n\n  stickTop() {\n    this.view.stickTop = true;\n  }\n\n  // Log message with default level\n  log(message, level = 'log') {\n    this.view.log(message, level);\n  }\n\n  // Log error\n  error(message) {\n    this.log(message, 'error');\n  }\n\n  // Log warning\n  warn(message) {\n    this.log(message, 'warning');\n  }\n\n  // Log notice\n  info(message) {\n    this.log(message, 'info');\n  }\n\n  // Log debug message\n  debug(message) {\n    this.log(message, 'debug');\n  }\n\n  // Log raw text\n  raw(rawText, level = 'raw', lineEnding = '\\n') {\n    console.log('Raw output', rawText);\n    // rawText.split(lineEnding).map(line => {\n      this.log(String(true), level);\n    // });\n  }\n\n  // Clear console panel\n  clear() {\n    this.view.clear();\n  }\n}\n","import { writable } from 'svelte/store';\n\nexport default writable({\n    lines: [],\n    showTimestamp: true,\n    clear: false,\n    filters: []\n});\n","function getConfig(key = '') {\n  const packageName = 'console';\n\n  return (key\n    ? atom.config.get(`${packageName}.${key}`)\n    : atom.config.get(packageName)\n  );\n}\n\nfunction showDock() {\n  const panelLocation = getConfig('panelLocation');\n\n  switch (panelLocation.toLowerCase()) {\n    case 'left':\n      atom.workspace.getLeftDock().show();\n      break;\n\n    case 'right':\n      atom.workspace.getRightDock().show();\n      break;\n\n    default:\n      atom.workspace.getBottomDock().show();\n      break;\n  }\n}\n\nfunction hideDock() {\n  const panelLocation = getConfig('panelLocation');\n\n  switch (panelLocation.toLowerCase()) {\n    case 'left':\n      atom.workspace.getLeftDock().hide();\n      break;\n\n    case 'right':\n      atom.workspace.getRightDock().hide();\n      break;\n\n    default:\n      atom.workspace.getBottomDock().hide();\n      break;\n  }\n}\n\nfunction getTimestamp() {\n  const date = new Date();\n\n  const hh = `0${date.getHours()}`.slice(-2);\n  const mm = `0${date.getMinutes()}`.slice(-2);\n  const ss = `0${date.getSeconds()}`.slice(-2);\n  const ms = `${date.getMilliseconds()}0`.slice(0, 3);\n\n  return {\n    visible: `${hh}:${mm}:${ss}.${ms}`,\n    tooltip: date.toString()\n  };\n}\n\nfunction mapLevel(level) {\n  console.log('mapLevel', level);\n\n  switch (level) {\n    case 'debug':\n      return {\n        text: `debug`,\n        icon: 'icon-bug'\n      };\n\n    case 'error':\n      return {\n        text: `error`,\n        icon: 'icon-flame'\n      };\n\n    case 'info':\n      return {\n        text: `info`,\n        icon: 'icon-info'\n      };\n\n    case 'warn':\n    case 'warning':\n      return {\n        text: `warning`,\n        icon: 'icon-issue-opened'\n      };\n\n    case 'raw':\n      return {\n        text: `info`,\n        icon: 'icon-code'\n      };\n\n    default: {\n      return {\n        text: `highlight`,\n        icon: 'icon-quote'\n      }\n    }\n  }\n}\n\nfunction handleOverflow() {\n  return getConfig('wordWrap')\n  ? `\n    overflow: hidden;\n    white-space: pre-wrap;\n  ` : '';\n}\n\nfunction initStatusBarHeight() {\n  const statusBar = document.querySelector('status-bar');\n\n  if (statusBar?.offsetHeight) {\n    document.documentElement.style.setProperty('--status-bar-height', `${statusBar.offsetHeight}px`);\n  }\n}\n\nexport {\n  getConfig,\n  getTimestamp,\n  handleOverflow,\n  hideDock,\n  initStatusBarHeight,\n  mapLevel,\n  showDock\n};\n","<script>\n\n    import { afterUpdate, onDestroy, onMount } from 'svelte';\n    import store from '../store';\n    import { handleOverflow, initStatusBarHeight, mapLevel } from '../utils';\n\n\n    let lines;\n    const unsubscribe = store.subscribe(state => {\n\n      switch (state.action) {\n\n        case 'log':\n          lines = [\n            ...state.lines\n          ];\n          break;\n\n        case 'clear':\n          lines = [];\n          break;\n\n        default:\n          break;\n\n        }\n\n      return lines;\n    });\n\n    let div;\n\n    afterUpdate(() => {\n      div.scrollTo({\n        left: 0,\n        top: div.scrollHeight,\n        behaviour: 'smooth'\n      });\n    });\n\n    const scrollToTop = () => {\n      div.scrollTo({\n        top: 0,\n        left: 0,\n        behaviour: 'smooth'\n      });\n    };\n\n    let wordWrap;\n    atom.config.observe('console.wordWrap', newValue => {\n      wordWrap = newValue\n    });\n\n    let showTimestamp;\n    atom.config.observe('console.showTimestamp', newValue => {\n      showTimestamp = newValue\n    });\n\n    let coloredBadges;\n    atom.config.observe('console.coloredBadges', newValue => {\n      coloredBadges = newValue\n        ? 'badge'\n        : 'text';\n    });\n\n    let filters = [];\n    const filterHandler = event => {\n      event.target.classList.toggle('selected');\n\n      const filter = event.target.innerText.toLowerCase();\n\n      store.update(state => {\n        console.log(\"filters before\", state.filters);\n\n        if (state.filters.includes(filter)) {\n          const index = state.filters.indexOf(filter);\n          state.filters.splice(index, 1);\n        } else {\n          state.filters.push(filter);\n        }\n\n        filters = state.filters;\n\n        console.log(\"filters after\", state.filters);\n\n        return state;\n      });\n    }\n\n    onMount(() => initStatusBarHeight());\n    onDestroy(unsubscribe);\n</script>\n\n<div class='block'>\n  <div class='btn-group'>\n    <button class=\"btn\" on:click={filterHandler}>Log</button>\n    <button class=\"btn\" on:click={filterHandler}>Info</button>\n    <button class=\"btn\" on:click={filterHandler}>Warning</button>\n    <button class=\"btn\" on:click={filterHandler}>Error</button>\n  </div>\n</div>\n\n<div class=\"panel-body scrollable\" bind:this={div}>\n    <div class=\"console-lines\" tabindex=\"-1\">\n      {#each lines as {level, message, timestamp}}\n        <p hidden={filters.length && !filters.includes(level)}>\n          {#if typeof message === 'string'}\n            {#if showTimestamp}\n              <div class=\"timestamp\">\n                <pre class=\"badge {coloredBadges}-{mapLevel(level).text} icon {mapLevel(level).icon}\" on:click={scrollToTop}>\n                  <span class=\"text-highlight\" title={timestamp.tooltip}>{timestamp.visible}</span>\n                </pre>\n              </div>\n            {/if}\n            <pre class=\"message\" style={wordWrap && handleOverflow()}>{message}</pre>\n          {:else}\n            {message}\n          {/if}\n        </p>\n      {/each}\n    </div>\n</div>\n\n<style type=\"text/scss\">\n  .scrollable {\n    height: 100%;\n    overflow: auto;\n    width: 100%;\n  }\n\n  .panel-body {\n    background-color: var(--inset-panel-background-color);\n    cursor: text;\n    height: 100%;\n  }\n\n  .console-lines {\n    &:empty {\n      padding: 0;\n    }\n\n    overflow: visible;\n  }\n\n  p {\n    display: flex;\n    margin: 0;\n\n    &[hidden] {\n      display: none;\n    }\n\n    .timestamp {\n      padding: 5px 10px;\n      user-select: none;\n    }\n\n    .badge {\n      cursor: pointer;\n      font-size: 11px;\n      position: sticky;\n      top: 5px;\n    }\n\n    .message {\n      font-size: unset;\n      flex-grow: 1;\n      margin-bottom: var(--status-bar-height);\n\n      &::selection {\n        background-color: var(--background-color-selected);\n        color: var(--text-color-selected);\n      }\n    }\n  }\n</style>\n","import store from './store';\nimport { getConfig, getTimestamp, hideDock, showDock } from './utils';\nimport Console from './views/console.svelte';\n\nexport default class ConsoleView {\n\n  destroy() {\n    if (this.disposables !== null) {\n      this.disposables.dispose();\n    }\n  }\n\n  getElement() {\n    const element = document.createElement('console');\n\n    new Console({\n      target: element\n    });\n\n    return element;\n  }\n\n  getTitle() {\n    return 'Console';\n  }\n\n  getPath() {\n    return 'panel';\n  }\n\n  getURI() {\n    return `atom://console/${this.getPath()}`;\n  }\n\n  getDefaultLocation() {\n    return getConfig('panelLocation');\n  }\n\n  show() {\n    atom.workspace.open(this, { activatePane: false });\n    showDock();\n  }\n\n  hide() {\n    hideDock();\n  }\n\n  toggle() {\n    atom.workspace.toggle(this);\n  }\n\n  log(message, level) {\n    console.log({level, message});\n\n    store.update(state => {\n      state.lines = [\n        ...state.lines || [],\n        {\n          level,\n          message,\n          timestamp: getTimestamp(),\n        }\n      ];\n\n      state.action = 'log';\n\n      return state;\n    });\n  }\n\n  clear() {\n    console.log('Clearing console');\n\n    store.update(state => {\n      state.action = 'clear';\n      state.lines = [];\n\n      return state;\n    });\n  }\n}\n","export default {\n  showTimestamp: {\n    description: 'Displays a timestamp next to the output',\n    type: 'boolean',\n    default: true,\n    order: 1\n  },\n  coloredBadges: {\n    description: 'Colors background of the timestamp badge',\n    type: 'boolean',\n    default: false,\n    order: 2\n  },\n  wordWrap: {\n    description: 'Wrap words if the line length exceeds the panel width',\n    type: 'boolean',\n    default: true,\n    order: 3\n  },\n  panelLocation: {\n    title: 'Panel Location',\n    description: 'Specifies the panel location. The change will only take effect on the next launch.',\n    type: 'string',\n    order: 4,\n    enum: [\n      {\n        value: 'bottom',\n        description: 'bottom'\n      },\n      {\n        value: 'left',\n        description: 'left'\n      },\n      {\n        value: 'right',\n        description: 'right'\n      }\n    ],\n    default: 'bottom'\n  },\n}\n","import { CompositeDisposable } from 'atom';\nimport ConsoleManager from './console-manager';\nimport ConsoleView from './console-view';\nimport configSchema from './config';\n\nexport default {\n  config: configSchema,\n  consoleView: null,\n  subscriptions: null,\n\n  activate() {\n    this.consoleView = new ConsoleView();\n    this.consoleManager = new ConsoleManager(this.consoleView);\n\n    // Events subscribed to in atom's system can be easily cleaned up with a CompositeDisposable\n    this.subscriptions = new CompositeDisposable();\n\n    // Register command that toggles this view\n    this.subscriptions.add(\n      atom.commands.add('atom-workspace', {\n        'console:show': () => this.consoleManager.show()\n      })\n    );\n\n    this.subscriptions.add(\n      atom.commands.add('atom-workspace', {\n        'console:hide': () => this.consoleManager.hide()\n      })\n    );\n\n    this.subscriptions.add(\n      atom.commands.add('atom-workspace', {\n        'console:toggle': () => this.consoleManager.toggle()\n      })\n    );\n\n    this.subscriptions.add(\n      atom.commands.add('atom-workspace', {\n        'console:clear': () => this.consoleManager.clear()\n      })\n    );\n\n    window.cp = this.consoleManager;\n    if (atom.inDevMode()) {\n      atom.commands.add('atom-workspace', {\n        'console:log': () => this.consoleManager.raw({ msg: 'Hello World'})\n      });\n    }\n  },\n\n  deactivate() {\n    console.log('Deactivating');\n    this.subscriptions.dispose();\n    this.consoleView.destroy();\n  },\n\n  provideConsolePanel() {\n    return this.consoleManager;\n  }\n};\n"],"names":["ConsoleManager","constructor","view","emitter","Emitter","destroy","dispose","hide","show","toggle","stickBottom","stickTop","log","message","level","error","warn","info","debug","raw","rawText","lineEnding","console","String","clear","writable","lines","showTimestamp","filters","getConfig","key","packageName","atom","config","get","showDock","panelLocation","toLowerCase","workspace","getLeftDock","getRightDock","getBottomDock","hideDock","getTimestamp","date","Date","hh","getHours","slice","mm","getMinutes","ss","getSeconds","ms","getMilliseconds","visible","tooltip","toString","mapLevel","text","icon","handleOverflow","initStatusBarHeight","statusBar","document","querySelector","offsetHeight","documentElement","style","setProperty","afterUpdate","onMount","onDestroy","ConsoleView","disposables","getElement","element","createElement","Console","target","getTitle","getPath","getURI","getDefaultLocation","open","activatePane","store","update","state","timestamp","action","description","type","default","order","coloredBadges","wordWrap","title","enum","value","configSchema","consoleView","subscriptions","activate","consoleManager","CompositeDisposable","add","commands","window","cp","inDevMode","msg","deactivate","provideConsolePanel"],"mappings":"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"}